@startuml
!include https://raw.githubusercontent.com/adrianvlupu/C4-PlantUML/latest/C4_Component.puml
!define DEVICONS https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/devicons
!define FONTAWESOME https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/font-awesome-5
!include FONTAWESOME/users.puml
!include FONTAWESOME/server.puml
!include DEVICONS/msql_server.puml

Container(email, "Sistema De E-mail", "Sistema de autenticação do Google", "o sistema de e-mail interno do Google")
Component(Mobapp, "Mobile app", "React Native", "Dentro da aplicação o usuário tem acesso a ações como visitar o calendário, visualizar eventos, acesso a lista de eventos, notificaçoes dos eventos")

Container_Boundary(spa, "API Authenticator") {
    Component(handleSignin, "Controlador de login", "Function handleSignIn", "função responsável por autenticar e validar login no sistema")
    Component(loadProfile, "Carregamento da página", "Function loadProfile", "função responsável por carregar a página após validação dos dados do usuário")
}

Container_Boundary(spas, "API Sistema") {
    Component(ctrleventos, "Controlador de Eventos", "GET, POST, PUT, DELETE" ,"Responsável por controlar os eventos usando CRUDS (AppContext)")
    Component(ctrlNotificacoes, "Controlador de Notificações", "GET, PUT, DELETE" ,"Responsável por controlar as notificações para o usuário (AppContext)")
    Component(ctrlUsuario, "Controlador de usuários", "GET, POST, PUT, DELETE" ,"Responsável por controlar os dados do usuário (AppContext)")
   
}

ContainerDb(bdados, "Banco de Dados", "PostgreSQL", "Verifica os dados do usuário solcitado para a função handleProfile ", "msql_server")

System_Ext(email, "Sistema De E-mail", "o sistema de e-mail interno do Google (Google Autenticathor)", "envelope")


Rel(Mobapp, handleSignin, "Faz Chamadas De API Para", "JSON/HTTPS")
Rel(Mobapp, ctrleventos, "Faz Chamadas De API Para", "JSON/HTTPS")
Rel(Mobapp, ctrlNotificacoes, "Faz Chamadas De API Para", "JSON/HTTPS")
Rel(Mobapp, ctrlUsuario, "Faz Chamadas De API Para", "JSON/HTTPS")

Rel(handleSignin, email, "usa");
Rel(email, bdados, "Faz chamada para");
Rel(bdados, loadProfile, "Resposta da chamada");

Rel(ctrleventos, bdados,"Lê e Escreve Para", "JDBC");
Rel(ctrlNotificacoes, bdados,"Lê e Escreve Para", "JDBC");
Rel(ctrlUsuario, bdados,"Lê e Escreve Para", "JDBC");

@enduml
